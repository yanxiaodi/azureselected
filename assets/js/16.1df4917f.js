(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{239:function(t,a,e){"use strict";e.r(a);var n=e(2),s=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"getting-the-latest-array-item-with-inline-script-in-logic-app"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getting-the-latest-array-item-with-inline-script-in-logic-app"}},[t._v("#")]),t._v(" Getting the Latest Array Item with Inline Script in Logic App")]),t._v(" "),e("p",[t._v("In my "),e("a",{attrs:{href:"https://devkimchi.com/2019/11/06/getting-the-latest-array-item-in-logic-app/",target:"_blank",rel:"noopener noreferrer"}},[t._v("previous post"),e("OutboundLink")],1),t._v(", we’ve walked through a "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-overview?WT.mc_id=devkimchicom-blog-juyoo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Logic App"),e("OutboundLink")],1),t._v(" workflow to get the latest item in an array, by combining the "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-workflow-actions-triggers?WT.mc_id=devkimchicom-blog-juyoo#select-action",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("Select")]),t._v(" action"),e("OutboundLink")],1),t._v(" and the "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-workflow-actions-triggers?WT.mc_id=devkimchicom-blog-juyoo#query-action",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("Filter")]),t._v(" action"),e("OutboundLink")],1),t._v(". In fact, although this approach is practical, it is only applicable for a few specific use cases, and a workaround, which is a bit tricky to apply in general. But, this preview feature, "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-add-run-inline-code?WT.mc_id=devkimchicom-blog-juyoo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Inline JavaScript Code action"),e("OutboundLink")],1),t._v(", can be handy for array sort. In this post, I’m going to discuss how to use the "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-add-run-inline-code?WT.mc_id=devkimchicom-blog-juyoo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Inline JavaScript Code action"),e("OutboundLink")],1),t._v(" to sort array items and take the latest one in the Logic App workflow.")]),t._v(" "),e("h2",{attrs:{id:"integration-account"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integration-account"}},[t._v("#")]),t._v(" Integration Account")]),t._v(" "),e("p",[t._v("In order to use this Inline JavaScript Code action, we have to provision an "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-enterprise-integration-create-integration-account?WT.mc_id=devkimchicom-blog-juyoo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Integration Account"),e("OutboundLink")],1),t._v("instance. There are "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-pricing?WT.mc_id=devkimchicom-blog-juyoo#integration-accounts",target:"_blank",rel:"noopener noreferrer"}},[t._v("three pricing tiers"),e("OutboundLink")],1),t._v(" of Integration Account – Free, Basic and Standard. For our practice, the free one is more than enough.")]),t._v(" "),e("p",[t._v("Once the Integration Account instance is provisioned, connect it with the existing Logic App instance to use the action.")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://sa0blogs.blob.core.windows.net/devkimchi/2019/11/getting-the-latest-array-item-with-inline-script-in-logic-app-03.png",alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"javascript-support"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#javascript-support"}},[t._v("#")]),t._v(" JavaScript Support")]),t._v(" "),e("p",[t._v("Currently, the action supports the "),e("a",{attrs:{href:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects",target:"_blank",rel:"noopener noreferrer"}},[t._v("built-in functions"),e("OutboundLink")],1),t._v(" of node.js "),e("code",[t._v("8.11.1")]),t._v(". We can’t import external libraries through "),e("code",[t._v("npm")]),t._v(" or so. Therefore, we can’t rely on any "),e("a",{attrs:{href:"https://nodejs.org/docs/latest-v8.x/api/modules.html#modules_require",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("require()")]),e("OutboundLink")],1),t._v(" statement. Everything "),e("strong",[t._v("MUST")]),t._v(" stay in the action.")]),t._v(" "),e("h2",{attrs:{id:"inline-javascript-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inline-javascript-code"}},[t._v("#")]),t._v(" Inline JavaScript Code")]),t._v(" "),e("p",[t._v("Let’s have a look at the JavaScript code below. It’s not related to Logic App but the pure JavaScript code. If you run this code in a node.js console, it returns the latest file path value of "),e("code",[t._v("20191104.json")]),t._v(", which is expected. "),e("a",{attrs:{href:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/sort",target:"_blank",rel:"noopener noreferrer"}},[t._v("Array sorting feature in JavaScript"),e("OutboundLink")],1),t._v(" needs a separate callback function, which contains the sort logic.")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" items "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20191101.json"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Path"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/path/20191101.json"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20191102.json"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Path"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/path/20191102.json"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20191103.json"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Path"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/path/20191103.json"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Name"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20191104.json"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Path"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/path/20191104.json"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" sorted "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" items"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dateA "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dateB "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dateA is later than dateB: dateA gets the lower index.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dateA "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dateB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dateA is older than dateB: dateB gets the lower index.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dateA "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" dateB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// dateA and dateB is the same")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" result "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sorted"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("The callback function "),e("strong",[t._v("SHOULD")]),t._v(" return either "),e("code",[t._v("-1")]),t._v(", "),e("code",[t._v("0")]),t._v(" or "),e("code",[t._v("1")]),t._v(".")]),t._v(" "),e("ul",[e("li",[t._v("Returning "),e("code",[t._v("-1")]),t._v(" means, between the array items "),e("code",[t._v("a")]),t._v(" and "),e("code",[t._v("b")]),t._v(", "),e("code",[t._v("a")]),t._v(" is sent to the lower index.")]),t._v(" "),e("li",[t._v("Returning "),e("code",[t._v("1")]),t._v(" means the array item "),e("code",[t._v("b")]),t._v(" is sent to the lower index.")])]),t._v(" "),e("p",[t._v("Therefore, the callback function gets rid of "),e("code",[t._v(".json")]),t._v(" from the "),e("code",[t._v("Name")]),t._v(" property value of both "),e("code",[t._v("a")]),t._v("and "),e("code",[t._v("b")]),t._v(", compare both values to each other, and the later (larger) one goes to the upper place of the array item (takes the lower index). In other words, the array items are sorted in descending order.")]),t._v(" "),e("blockquote",[e("p",[t._v("If you want to know more about the sort, please refer to "),e("a",{attrs:{href:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Description",target:"_blank",rel:"noopener noreferrer"}},[t._v("this page"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("p",[t._v("Now, let’s apply this code into Logic App.")]),t._v(" "),e("h2",{attrs:{id:"inline-javascript-code-action"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inline-javascript-code-action"}},[t._v("#")]),t._v(" Inline JavaScript Code Action")]),t._v(" "),e("p",[t._v("Let’s add an action for "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-add-run-inline-code?WT.mc_id=devkimchicom-blog-juyoo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Inline JavaScript Code"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://sa0blogs.blob.core.windows.net/devkimchi/2019/11/getting-the-latest-array-item-with-inline-script-in-logic-app-01.png",alt:"img"}})]),t._v(" "),e("p",[t._v("Then enter the JavaScript code in the action. It’s almost the same as the one in above, but there are two places changed for accommodation.")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Assign the array value from the output of the previous action, `List Backups`.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" items "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" workflowContext"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("actions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("List_Backups"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("outputs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" sorted "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" items"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dateA "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dateB "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" b"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.json'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dateA "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dateB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dateA "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" dateB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" result "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sorted"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns the result as output.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("ul",[e("li",[t._v("The "),e("code",[t._v("items")]),t._v(" variable takes the array items from the output of the previous action, "),e("code",[t._v("List Backups")]),t._v(".")]),t._v(" "),e("li",[t._v("In the last line, it uses the "),e("code",[t._v("return")]),t._v(" statement to send the result of the action to the "),e("code",[t._v("outputs")]),t._v(" value.")])]),t._v(" "),e("p",[t._v("If we want to refer the result of this action, any action later in this workflow can use "),e("code",[t._v("outputs('ACTION_NAME')?['body']")]),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"comparison"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#comparison"}},[t._v("#")]),t._v(" Comparison")]),t._v(" "),e("p",[t._v("Now, we only use this Inline JavaScript Code action and sort out the issue (pun intended). Let’s compare the same result as the "),e("a",{attrs:{href:"https://devkimchi.com/2019/11/06/getting-the-latest-array-item-in-logic-app/",target:"_blank",rel:"noopener noreferrer"}},[t._v("previous post"),e("OutboundLink")],1),t._v(", with the picture below.")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://sa0blogs.blob.core.windows.net/devkimchi/2019/11/getting-the-latest-array-item-with-inline-script-in-logic-app-02.png",alt:"img"}})]),t._v(" "),e("p",[t._v("The right-hand side is what we created in the "),e("a",{attrs:{href:"https://devkimchi.com/2019/11/06/getting-the-latest-array-item-in-logic-app/",target:"_blank",rel:"noopener noreferrer"}},[t._v("previous post"),e("OutboundLink")],1),t._v(". At least we "),e("strong",[t._v("SHOULD")]),t._v(" use both the "),e("code",[t._v("Select Filename from Backups")]),t._v(" action ("),e("code",[t._v("Select")]),t._v(") and the "),e("code",[t._v("Take Latest Backup")]),t._v(" action ("),e("code",[t._v("Filter")]),t._v("). If we want a more elegant way, a few extra actions are placed before and after.")]),t._v(" "),e("p",[t._v("On the other hand, if we use the "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-add-run-inline-code?WT.mc_id=devkimchicom-blog-juyoo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Inline JavaScript Code action"),e("OutboundLink")],1),t._v(", like the left-hand side, we only need one action.")]),t._v(" "),e("p",[t._v("But there’s a caveat. Make sure that we have to have the "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-enterprise-integration-create-integration-account?WT.mc_id=devkimchicom-blog-juyoo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Integration Account"),e("OutboundLink")],1),t._v(" associated with using this inline code action. The Integration Account is pretty expensive and fixed price – "),e("a",{attrs:{href:"https://azure.microsoft.com/pricing/details/logic-apps/?WT.mc_id=devkimchicom-blog-juyoo",target:"_blank",rel:"noopener noreferrer"}},[t._v("US$ 302.4 (Basic) and US$ 986.4 (Standard) per month"),e("OutboundLink")],1),t._v(". If your organisation has already been using the Integration Account, then it’s OK. However, if it hasn’t, it "),e("strong",[t._v("SHOULD")]),t._v(" be really careful.")]),t._v(" "),e("hr"),t._v(" "),e("p",[t._v("So far, we’ve walked through how to use the "),e("a",{attrs:{href:"https://docs.microsoft.com/azure/logic-apps/logic-apps-add-run-inline-code?WT.mc_id=devkimchicom-blog-juyoo",target:"_blank",rel:"noopener noreferrer"}},[t._v("Inline JavaScript Code action"),e("OutboundLink")],1),t._v(" to sort array items within the Logic App workflow. It’s powerful but expensive. Therefore, only if your organisation takes the cost, use it.")])])}),[],!1,null,null,null);a.default=s.exports}}]);